<p id="result01"></p>
<p id="result02"></p>
<script>
	/**
	 * simple request
	 * - default.confの「CORS for simple request」のコメントアウトを外すと許可される
	 */
	fetch("http://localhost:20000/chapter02/resource.html")
		.then((res) => res.text())
		.then((text) => {
			document.getElementById("result01").innerText = text;
		})
		.catch(() => {
			document.getElementById("result01").innerText = "#1 failed.";
		});

	/**
	 * not simple request
	 * - default.confの「CORS for not simple request」のコメントアウトを外すと許可される
	 */
	fetch("http://localhost:20000/chapter02/resource.html", {
		headers: { "X-CUSTOM-HEADER": "value" },
	})
		.then((res) => res.text())
		.then((text) => {
			document.getElementById("result02").innerText = text;
		})
		.catch(() => {
			document.getElementById("result02").innerText = "#2 failed.";
		});
</script>
